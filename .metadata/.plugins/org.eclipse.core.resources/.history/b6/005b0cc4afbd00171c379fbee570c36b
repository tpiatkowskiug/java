import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.Scanner;
import java.io.PrintWriter;
import java.io.FileInputStream;
import java.io.FileOutputStream;

public class Szyfrowanie {
public static void main(String[] args)  throws FileNotFoundException{
		// TODO Auto-generated method stub
		FileInputStream wejscie = null;
		FileOutputStream wyjscie = null;
		
		Scanner in = new Scanner(System.in);
		System.out.println("Podaj zdanie które chcesz szyfrować");
		String napisz = in.nextLine();
		System.out.println(napisz);
		
		String encrypted = Szyfrowanie.encrypt(napisz);
		System.out.println(encrypted);
		
		String decrypted = Szyfrowanie.decrypt(encrypted);
		System.out.println(decrypted);
		
		try{
			PrintWriter zapisz = new PrintWriter("dane.txt");
			zapisz.write(napisz);
			zapisz.close();
		}catch(IOException e){
			System.out.println("błąd zapisu do pliku dane.txt");
		}
		try{
			wejscie = new FileInputStream("dane.txt");
			wyjscie = new FileOutputStream("szyfrowanedane.txt");
		}catch(FileNotFoundException e){
			System.out.println("Nie znaleziono pliku");
		}
	
		}
		

public static String encrypt(String message){
	StringBuilder sb = new StringBuilder(message);
	int distance = 5;
	for(int i=0; i<sb.length(); i++){
		int c = (int)sb.charAt(i);
		if(c+distance>122){
			c=32+(distance - (122-c));
		}else{
			c+= distance;
		}
		sb.setCharAt(i, (char)c);
	}
	return sb.toString();
}
public static String decrypt(String message){
	StringBuilder sb = new StringBuilder(message);
	int distance = 5;
	for(int i=0; i<sb.length(); i++){
		int c = (int)sb.charAt(i);
		if(c-distance>32){
			c=123-(distance - (c-32));
		}else{
			c-= distance;
		}
		sb.setCharAt(i, (char)c);
	}
	return sb.toString();
}
}
